# =====================
# App
# =====================
ENV=dev
LOG_LEVEL=info

# =====================
# MongoDB Connection
# =====================
MONGO_INITDB_ROOT_USERNAME=admin
MONGO_INITDB_ROOT_PASSWORD=adminpass
MONGO_DB=ticketsdb
MONGO_URL=mongodb://mongodb:27017

# Connection Pool Configuration (Production-Ready)
# Max concurrent connections - prevents thread starvation under load
MONGO_MAX_POOL_SIZE=50
# Min keep-alive connections - reduces connection establishment latency
MONGO_MIN_POOL_SIZE=10
# Connection idle timeout (ms) - prevents resource leaks
MONGO_MAX_IDLE_TIME_MS=45000
# Checkout timeout (ms) - prevents deadlock when pool is exhausted
MONGO_WAIT_QUEUE_TIMEOUT_MS=10000
# Server discovery timeout (ms)
MONGO_SERVER_SELECTION_TIMEOUT_MS=5000
# Initial connection timeout (ms)
MONGO_CONNECT_TIMEOUT_MS=10000
# Read/write operation timeout (ms)
MONGO_SOCKET_TIMEOUT_MS=30000

# =====================
# Query Timeout Configuration
# =====================
# Analytics query timeout (ms) - prevents heavy reads from blocking ingestion
ANALYTICS_QUERY_TIMEOUT_MS=5000
# Default query timeout (ms) - general query protection
DEFAULT_QUERY_TIMEOUT_MS=10000

# =====================
# Pagination Configuration
# =====================
# Maximum page size - prevents memory exhaustion during high-volume reads
MAX_PAGE_SIZE=1000
# Default page size for list operations
DEFAULT_PAGE_SIZE=100

# =====================
# Mock External API
# =====================
EXTERNAL_API_URL=http://mock-external-api:9000
EXTERNAL_API_BASE_URL=http://mock-external-api:8080
EXTERNAL_API_TIMEOUT_SECONDS=5

# =====================
# Ingestion
# =====================
INGESTION_PAGE_SIZE=100
INGESTION_LOCK_TTL_SECONDS=300
